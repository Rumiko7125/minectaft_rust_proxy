import{am as Le,an as Re,ao as j,ap as W,s as J,y as B,v as te,aq as Be,x as He,d as ke,C as T,ar as Me,as as Ne,O as Ee,M as De,at as Ue,au as je,av as We,aw as Oe,K as Ve,ax as qe,E as Ge,G as ye,F as Je,R as Ke,p as ue,r as y,ay as Ye,W as M,u as Qe,a as Xe,o as Ze,c as h,e as t,t as d,g as e,f as i,w as r,B as _,m as K,P as se,_ as ie,ag as re,a5 as N,a3 as eo,i as p,j as f,$ as pe,n as z,az as fe,q as ge}from"./index-DQgClpag.js";import{a as oo,N as de}from"./Select-Dy_GmTdc.js";import{N as be}from"./Switch-DBlpryrk.js";import{u as lo,N as O}from"./use-message-DfHQKw6A.js";import{N as ao,a as ce}from"./Tabs-c5IO-Gt9.js";import{N as he}from"./Form-CpuxP8S5.js";import{N as P}from"./FormItem-8Lqb3O-i.js";import{N as _e}from"./InputNumber-B9FQEIAe.js";import{_ as no}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Popover-BT2YCJ3w.js";import"./Tag-B2_cy-hE.js";import"./Checkmark-BOYRWfKy.js";import"./Add-C00RkFDM.js";function to(C){const{lineHeight:l,borderRadius:u,fontWeightStrong:S,baseColor:k,dividerColor:L,actionColor:V,textColor1:x,textColor2:g,closeColorHover:w,closeColorPressed:I,closeIconColor:R,closeIconColorHover:A,closeIconColorPressed:b,infoColor:v,successColor:q,warningColor:E,errorColor:D,fontSize:c}=C;return Object.assign(Object.assign({},Re),{fontSize:c,lineHeight:l,titleFontWeight:S,borderRadius:u,border:`1px solid ${L}`,color:V,titleTextColor:x,iconColor:g,contentTextColor:g,closeBorderRadius:u,closeColorHover:w,closeColorPressed:I,closeIconColor:R,closeIconColorHover:A,closeIconColorPressed:b,borderInfo:`1px solid ${j(k,W(v,{alpha:.25}))}`,colorInfo:j(k,W(v,{alpha:.08})),titleTextColorInfo:x,iconColorInfo:v,contentTextColorInfo:g,closeColorHoverInfo:w,closeColorPressedInfo:I,closeIconColorInfo:R,closeIconColorHoverInfo:A,closeIconColorPressedInfo:b,borderSuccess:`1px solid ${j(k,W(q,{alpha:.25}))}`,colorSuccess:j(k,W(q,{alpha:.08})),titleTextColorSuccess:x,iconColorSuccess:q,contentTextColorSuccess:g,closeColorHoverSuccess:w,closeColorPressedSuccess:I,closeIconColorSuccess:R,closeIconColorHoverSuccess:A,closeIconColorPressedSuccess:b,borderWarning:`1px solid ${j(k,W(E,{alpha:.33}))}`,colorWarning:j(k,W(E,{alpha:.08})),titleTextColorWarning:x,iconColorWarning:E,contentTextColorWarning:g,closeColorHoverWarning:w,closeColorPressedWarning:I,closeIconColorWarning:R,closeIconColorHoverWarning:A,closeIconColorPressedWarning:b,borderError:`1px solid ${j(k,W(D,{alpha:.25}))}`,colorError:j(k,W(D,{alpha:.08})),titleTextColorError:x,iconColorError:D,contentTextColorError:g,closeColorHoverError:w,closeColorPressedError:I,closeIconColorError:R,closeIconColorHoverError:A,closeIconColorPressedError:b})}const so={common:Le,self:to},io=J("alert",`
 line-height: var(--n-line-height);
 border-radius: var(--n-border-radius);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 text-align: start;
 word-break: break-word;
`,[B("border",`
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 transition: border-color .3s var(--n-bezier);
 border: var(--n-border);
 pointer-events: none;
 `),te("closable",[J("alert-body",[B("title",`
 padding-right: 24px;
 `)])]),B("icon",{color:"var(--n-icon-color)"}),J("alert-body",{padding:"var(--n-padding)"},[B("title",{color:"var(--n-title-text-color)"}),B("content",{color:"var(--n-content-text-color)"})]),Be({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),B("icon",`
 position: absolute;
 left: 0;
 top: 0;
 align-items: center;
 justify-content: center;
 display: flex;
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 margin: var(--n-icon-margin);
 `),B("close",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 `),te("show-icon",[J("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),te("right-adjust",[J("alert-body",{paddingRight:"calc(var(--n-close-size) + var(--n-padding) + 2px)"})]),J("alert-body",`
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 `,[B("title",`
 transition: color .3s var(--n-bezier);
 font-size: 16px;
 line-height: 19px;
 font-weight: var(--n-title-font-weight);
 `,[He("& +",[B("content",{marginTop:"9px"})])]),B("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),B("icon",{transition:"color .3s var(--n-bezier)"})]),ro=Object.assign(Object.assign({},ye.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),co=ke({name:"Alert",inheritAttrs:!1,props:ro,slots:Object,setup(C){const{mergedClsPrefixRef:l,mergedBorderedRef:u,inlineThemeDisabled:S,mergedRtlRef:k}=Ge(C),L=ye("Alert","-alert",io,so,C,l),V=Je("Alert",k,l),x=ue(()=>{const{common:{cubicBezierEaseInOut:b},self:v}=L.value,{fontSize:q,borderRadius:E,titleFontWeight:D,lineHeight:c,iconSize:s,iconMargin:Y,iconMarginRtl:oe,closeIconSize:Q,closeBorderRadius:X,closeSize:Z,closeMargin:ee,closeMarginRtl:le,padding:H}=v,{type:$}=C,{left:ae,right:ne}=Ye(Y);return{"--n-bezier":b,"--n-color":v[M("color",$)],"--n-close-icon-size":Q,"--n-close-border-radius":X,"--n-close-color-hover":v[M("closeColorHover",$)],"--n-close-color-pressed":v[M("closeColorPressed",$)],"--n-close-icon-color":v[M("closeIconColor",$)],"--n-close-icon-color-hover":v[M("closeIconColorHover",$)],"--n-close-icon-color-pressed":v[M("closeIconColorPressed",$)],"--n-icon-color":v[M("iconColor",$)],"--n-border":v[M("border",$)],"--n-title-text-color":v[M("titleTextColor",$)],"--n-content-text-color":v[M("contentTextColor",$)],"--n-line-height":c,"--n-border-radius":E,"--n-font-size":q,"--n-title-font-weight":D,"--n-icon-size":s,"--n-icon-margin":Y,"--n-icon-margin-rtl":oe,"--n-close-size":Z,"--n-close-margin":ee,"--n-close-margin-rtl":le,"--n-padding":H,"--n-icon-margin-left":ae,"--n-icon-margin-right":ne}}),g=S?Ke("alert",ue(()=>C.type[0]),x,C):void 0,w=y(!0),I=()=>{const{onAfterLeave:b,onAfterHide:v}=C;b&&b(),v&&v()};return{rtlEnabled:V,mergedClsPrefix:l,mergedBordered:u,visible:w,handleCloseClick:()=>{var b;Promise.resolve((b=C.onClose)===null||b===void 0?void 0:b.call(C)).then(v=>{v!==!1&&(w.value=!1)})},handleAfterLeave:()=>{I()},mergedTheme:L,cssVars:S?void 0:x,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender}},render(){var C;return(C=this.onRender)===null||C===void 0||C.call(this),T(qe,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:l,$slots:u}=this,S={class:[`${l}-alert`,this.themeClass,this.closable&&`${l}-alert--closable`,this.showIcon&&`${l}-alert--show-icon`,!this.title&&this.closable&&`${l}-alert--right-adjust`,this.rtlEnabled&&`${l}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?T("div",Object.assign({},Me(this.$attrs,S)),this.closable&&T(Ne,{clsPrefix:l,class:`${l}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&T("div",{class:`${l}-alert__border`}),this.showIcon&&T("div",{class:`${l}-alert__icon`,"aria-hidden":"true"},Ee(u.icon,()=>[T(De,{clsPrefix:l},{default:()=>{switch(this.type){case"success":return T(Oe,null);case"info":return T(We,null);case"warning":return T(je,null);case"error":return T(Ue,null);default:return null}}})])),T("div",{class:[`${l}-alert-body`,this.mergedBordered&&`${l}-alert-body--bordered`]},Ve(u.header,k=>{const L=k||this.title;return L?T("div",{class:`${l}-alert-body__title`},L):null}),u.default&&T("div",{class:`${l}-alert-body__content`},u))):null}})}}),uo={class:"page"},mo={class:"page-header"},vo={class:"page-title"},po={class:"page-desc"},fo={style:{display:"flex",gap:"8px"}},go={key:1,class:"backend-grid"},bo={class:"card-header"},ho={class:"card-title-row"},_o={class:"backend-name"},ko={class:"badge-row"},yo={key:0,class:"badge badge-default"},Co={key:1,class:"badge badge-maintenance"},xo={class:"backend-addr"},Fo={class:"card-stats"},wo={class:"stat-item"},Ao={class:"stat-label"},Io={class:"stat-value"},To={key:0,class:"stat-suffix"},$o={key:1,class:"stat-suffix"},zo={key:0,class:"stat-item"},Po={class:"stat-label"},So={class:"stat-code"},Lo={class:"card-actions"},Ro={class:"motd-section"},Bo={class:"motd-preview-box"},Ho={class:"motd-preview-header"},Mo={class:"motd-preview-content"},No={class:"mc-preview-server"},Eo={class:"mc-server-icon"},Do=["src"],Uo={key:1,class:"favicon-placeholder"},jo={class:"mc-server-info"},Wo={class:"mc-server-toprow"},Oo={class:"mc-server-name"},Vo={class:"mc-server-motd"},qo=["innerHTML"],Go=["innerHTML"],Jo={class:"mc-server-players"},Ko={class:"players-count"},Yo=["title"],Qo={class:"motd-field-row"},Xo={class:"motd-field-label"},Zo={class:"favicon-upload-row"},el=["src"],ol={class:"motd-hint"},ll={class:"motd-field-row"},al={class:"motd-field-label"},nl={class:"motd-input-with-colors"},tl={class:"color-btn-row"},sl=["title","onClick"],il={class:"motd-field-row"},rl={class:"motd-field-label"},dl={class:"motd-input-with-colors"},cl={class:"color-btn-row"},ul=["title","onClick"],ml={class:"motd-field-row motd-field-row--top"},vl={class:"motd-field-label"},pl={style:{flex:"1"}},fl={class:"motd-hint"},gl={style:{color:"#8b949e","font-size":"12px","margin-left":"8px"}},bl={style:{color:"#8b949e","font-size":"12px","margin-left":"8px"}},hl={style:{display:"flex","justify-content":"flex-end",gap:"8px"}},_l={key:0},kl={style:{color:"#8b949e","font-size":"12px"}},yl={style:{display:"flex","justify-content":"flex-end",gap:"8px"}},Cl=ke({__name:"Backend",setup(C){const{t:l}=Qe(),u=lo();Xe();const S=y(!1),k=y(!1),L=y(!1),V=y([]),x=y(!1),g=y(!1),w=y(!1),I=y(null),R=y(null),A=y(null),b=y(""),v=y(!1),q=y(!0),E=y([]),D=y(null),c=ge({favicon:"",line1:"",line2:"",sampleText:""}),s=ge({name:"",remote_address:"",remote_port:25565,max_player:-1,motd_json:"",limbo_message:"",language:"en",log_dir:"",show_log_level:0,save_log_level:0,ping_passthrough:!1,motd_passthrough:!1}),Y=ue(()=>[{label:l("backend.logLevel0"),value:0},{label:l("backend.logLevel1"),value:1},{label:l("backend.logLevel2"),value:2},{label:l("backend.logLevel3"),value:3},{label:l("backend.logLevel4"),value:4}]),oe=[{label:"简体中文",value:"zh-CN"},{label:"English",value:"en"},{label:"日本語",value:"ja"},{label:"Русский",value:"ru"},{label:"Deutsch",value:"de"},{label:"Français",value:"fr"},{label:"한국어",value:"ko"},{label:"繁體中文",value:"zh-TW"}],Q=[{code:"0",name:"Black",hex:"#000000"},{code:"1",name:"Dark Blue",hex:"#0000AA"},{code:"2",name:"Dark Green",hex:"#00AA00"},{code:"3",name:"Dark Cyan",hex:"#00AAAA"},{code:"4",name:"Dark Red",hex:"#AA0000"},{code:"5",name:"Dark Purple",hex:"#AA00AA"},{code:"6",name:"Gold",hex:"#FFAA00"},{code:"7",name:"Gray",hex:"#AAAAAA"},{code:"8",name:"Dark Gray",hex:"#555555"},{code:"9",name:"Blue",hex:"#5555FF"},{code:"a",name:"Green",hex:"#55FF55"},{code:"b",name:"Aqua",hex:"#55FFFF"},{code:"c",name:"Red",hex:"#FF5555"},{code:"d",name:"Pink",hex:"#FF55FF"},{code:"e",name:"Yellow",hex:"#FFFF55"},{code:"f",name:"White",hex:"#FFFFFF"}],X={0:"#000000",1:"#0000AA",2:"#00AA00",3:"#00AAAA",4:"#AA0000",5:"#AA00AA",6:"#FFAA00",7:"#AAAAAA",8:"#555555",9:"#5555FF",a:"#55FF55",b:"#55FFFF",c:"#FF5555",d:"#FF55FF",e:"#FFFF55",f:"#FFFFFF"};function Z(n){let a="",o=0,m="",F="";for(;o<n.length;)if((n[o]==="§"||n[o]==="&")&&o+1<n.length){const G=n[o+1].toLowerCase();X[G]?((a||m)&&(a+="</span>"),m=X[G],F=`color:${m}`,a+=`<span style="${F}">`):G==="l"?F+=";font-weight:bold":G==="o"?F+=";font-style:italic":G==="n"?F+=";text-decoration:underline":G==="r"&&(a+="</span>",m="",F="",a+="<span>"),o+=2}else a+=n[o]==="<"?"&lt;":n[o]===">"?"&gt;":n[o],o++;return m&&(a+="</span>"),a||n}function ee(n){var a,o,m;if(c.favicon="",c.line1="",c.line2="",c.sampleText="",!!n)try{const F=JSON.parse(n);c.favicon=F.favicon||"";const ve=(typeof F.description=="string"?F.description:((a=F.description)==null?void 0:a.text)||((o=F.description)==null?void 0:o.translate)||"").split(`
`);c.line1=ve[0]||"",c.line2=ve[1]||"",c.sampleText=(((m=F.players)==null?void 0:m.sample)||[]).map(Se=>Se.name).join(`
`)}catch{}}function le(){if(!c.line1&&!c.line2&&!c.favicon&&!c.sampleText)return null;const n=c.line2?`${c.line1}
${c.line2}`:c.line1,a=c.sampleText.split(`
`).map(m=>m.trim()).filter(Boolean).map((m,F)=>({name:m,id:`00000000-0000-0000-0000-${String(F).padStart(12,"0")}`})),o={description:{text:n},players:{max:s.max_player<0?100:s.max_player,online:0,sample:a}};return c.favicon&&(o.favicon=c.favicon),JSON.stringify(o)}function H(n,a){c[n]+=`§${a}`}function $(){var n;(n=D.value)==null||n.click()}function ae(n){var m;const a=(m=n.target.files)==null?void 0:m[0];if(!a)return;const o=new FileReader;o.onload=()=>{c.favicon=o.result},o.readAsDataURL(a),n.target.value=""}function ne(n){return E.value.filter(a=>a.backend_name===n).length}async function U(){S.value=!0;try{const[n,a]=await Promise.all([N.list(),eo.getOnline({limit:200}).catch(()=>({players:[]}))]);V.value=n.list||[],E.value=a.players||[]}catch(n){u.error(n.message||l("common.loadFailed"))}finally{S.value=!1}}function me(){I.value=null,Pe(),x.value=!0}function Ce(n){I.value=n.id,s.name=n.name,s.remote_address=n.remote_address,s.remote_port=n.remote_port,s.max_player=n.max_player,s.motd_json=n.motd_json||"",s.limbo_message=n.limbo_message||"",s.language=n.language||"en",s.log_dir=n.log_dir||"",s.show_log_level=n.show_log_level||0,s.save_log_level=n.save_log_level||0,s.ping_passthrough=n.ping_passthrough||!1,s.motd_passthrough=n.motd_passthrough||!1,ee(n.motd_json),x.value=!0}async function xe(){if(!s.name.trim()||!s.remote_address.trim()){u.warning(l("backend.fillRequired"));return}k.value=!0;try{const n={...s,motd_json:le(),limbo_message:s.limbo_message||null,log_dir:s.log_dir||null};I.value?(await N.update(I.value,n),u.success(l("common.saveSuccess"))):(await N.create(n),u.success(l("common.addSuccess"))),x.value=!1,U()}catch(n){u.error(n.message||l("common.saveFailed"))}finally{k.value=!1}}async function Fe(n){try{n.enabled?await N.disable(n.id):await N.enable(n.id),u.success(l("common.operationSuccess")),U()}catch(a){u.error(a.message||l("common.operationFailed"))}}async function we(n){try{await N.setDefault(n.id),u.success(l("common.operationSuccess")),U()}catch(a){u.error(a.message||l("common.operationFailed"))}}async function Ae(){try{await N.unsetDefault(),u.success(l("common.operationSuccess")),U()}catch(n){u.error(n.message||l("common.operationFailed"))}}function Ie(n){n.maintenance?N.toggleMaintenance(n.id,!1,void 0).then(()=>{u.success(l("common.operationSuccess")),U()}).catch(a=>u.error(a.message||l("common.operationFailed"))):(A.value=n,b.value=n.maintenance_message||"",w.value=!0)}async function Te(){if(A.value){v.value=!0;try{await N.toggleMaintenance(A.value.id,!0,b.value||void 0),u.success(l("common.operationSuccess")),w.value=!1,U()}catch(n){u.error(n.message||l("common.operationFailed"))}finally{v.value=!1}}}function $e(n){R.value=n,g.value=!0}async function ze(){if(R.value){L.value=!0;try{await N.delete(R.value.id),u.success(l("common.deleteSuccess")),g.value=!1,U()}catch(n){u.error(n.message||l("common.deleteFailed"))}finally{L.value=!1}}}function Pe(){s.name="",s.remote_address="",s.remote_port=25565,s.max_player=-1,s.motd_json="",s.limbo_message="",s.language="en",s.log_dir="",s.show_log_level=0,s.save_log_level=0,s.ping_passthrough=!1,s.motd_passthrough=!1,q.value=!0,ee(null)}return Ze(U),(n,a)=>(p(),h("div",uo,[t("div",mo,[t("div",null,[t("h1",vo,d(e(l)("backend.title")),1),t("p",po,d(e(l)("backend.domainRulesHint")),1)]),t("div",fo,[i(e(_),{size:"small",onClick:n.loadBackends,loading:S.value},{icon:r(()=>[...a[29]||(a[29]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"23 4 23 10 17 10"}),t("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})],-1)])]),default:r(()=>[f(" "+d(e(l)("common.refresh")),1)]),_:1},8,["onClick","loading"]),i(e(_),{type:"primary",onClick:me},{icon:r(()=>[...a[30]||(a[30]=[t("span",null,"+",-1)])]),default:r(()=>[f(" "+d(e(l)("backend.add")),1)]),_:1})])]),!S.value&&V.value.length===0?(p(),K(e(oo),{key:0,description:e(l)("backend.emptyHint"),class:"empty-state"},{extra:r(()=>[i(e(_),{type:"primary",onClick:me},{default:r(()=>[f(d(e(l)("backend.add")),1)]),_:1})]),_:1},8,["description"])):(p(),h("div",go,[(p(!0),h(se,null,ie(V.value,o=>(p(),h("div",{key:o.id,class:pe(["backend-card",{"is-default":o.is_default,"is-maintenance":o.maintenance,"is-disabled":!o.enabled}])},[t("div",bo,[t("div",ho,[t("div",_o,d(o.name),1),t("div",ko,[o.is_default?(p(),h("span",yo,d(e(l)("backend.default")),1)):z("",!0),t("span",{class:pe(["badge",o.enabled?"badge-enabled":"badge-disabled"])},d(o.enabled?e(l)("backend.enabled"):e(l)("backend.disabled")),3),o.maintenance?(p(),h("span",Co,d(e(l)("backend.maintenanceEnabled")),1)):z("",!0)])]),t("div",xo,[a[31]||(a[31]=t("span",{class:"addr-icon"},"→",-1)),t("code",null,d(o.remote_address)+":"+d(o.remote_port),1)])]),t("div",Fo,[t("div",wo,[t("span",Ao,d(e(l)("backend.onlinePlayers")),1),t("span",Io,d(ne(o.name)),1),o.max_player>=0?(p(),h("span",To,"/ "+d(o.max_player),1)):(p(),h("span",$o,"/ ∞"))]),o.log_dir?(p(),h("div",zo,[t("span",Po,d(e(l)("backend.logDir")),1),t("code",So,d(o.log_dir),1)])):z("",!0)]),t("div",Lo,[i(e(_),{size:"small",onClick:m=>Ce(o)},{default:r(()=>[f(d(e(l)("common.edit")),1)]),_:1},8,["onClick"]),i(e(_),{size:"small",type:o.enabled?"warning":"success",onClick:m=>Fe(o)},{default:r(()=>[f(d(o.enabled?e(l)("backend.disable"):e(l)("backend.enable")),1)]),_:2},1032,["type","onClick"]),i(e(_),{size:"small",type:o.maintenance?"default":"error",onClick:m=>Ie(o)},{default:r(()=>[f(d(o.maintenance?e(l)("backend.maintenanceOff"):e(l)("backend.maintenanceOn")),1)]),_:2},1032,["type","onClick"]),o.is_default?z("",!0):(p(),K(e(_),{key:0,size:"small",onClick:m=>we(o)},{default:r(()=>[f(d(e(l)("backend.setDefault")),1)]),_:1},8,["onClick"])),o.is_default?(p(),K(e(_),{key:1,size:"small",type:"warning",onClick:a[0]||(a[0]=m=>Ae())},{default:r(()=>[f(d(e(l)("backend.unsetDefault")),1)]),_:1})):z("",!0),o.is_default?z("",!0):(p(),K(e(_),{key:2,size:"small",type:"error",onClick:m=>$e(o)},{default:r(()=>[f(d(e(l)("common.delete")),1)]),_:1},8,["onClick"]))])],2))),128))])),i(e(re),{show:x.value,"onUpdate:show":a[23]||(a[23]=o=>x.value=o),preset:"card",title:I.value?e(l)("backend.edit"):e(l)("backend.add"),style:{width:"640px","max-height":"90vh","overflow-y":"auto"}},{footer:r(()=>[t("div",hl,[i(e(_),{onClick:a[22]||(a[22]=o=>x.value=!1)},{default:r(()=>[f(d(e(l)("common.cancel")),1)]),_:1}),i(e(_),{type:"primary",onClick:xe,loading:k.value},{default:r(()=>[f(d(e(l)("common.confirm")),1)]),_:1},8,["loading"])])]),default:r(()=>[i(e(ao),{type:"line",animated:""},{default:r(()=>[i(e(ce),{name:"basic",tab:e(l)("backend.basicInfo")},{default:r(()=>[i(e(he),{model:s,"label-placement":"left","label-width":120},{default:r(()=>[i(e(P),{label:e(l)("backend.name"),required:""},{default:r(()=>[i(e(O),{value:s.name,"onUpdate:value":a[1]||(a[1]=o=>s.name=o),placeholder:e(l)("backend.namePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.remoteAddress"),required:""},{default:r(()=>[i(e(O),{value:s.remote_address,"onUpdate:value":a[2]||(a[2]=o=>s.remote_address=o),placeholder:e(l)("backend.remoteAddressPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.remotePort")},{default:r(()=>[i(e(_e),{value:s.remote_port,"onUpdate:value":a[3]||(a[3]=o=>s.remote_port=o),style:{width:"100%"},min:1,max:65535},null,8,["value"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.maxPlayer")},{feedback:r(()=>[f(d(e(l)("backend.maxPlayerHint")),1)]),default:r(()=>[i(e(_e),{value:s.max_player,"onUpdate:value":a[4]||(a[4]=o=>s.max_player=o),style:{width:"100%"},min:-1},null,8,["value"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.limboMessage")},{default:r(()=>[i(e(O),{value:s.limbo_message,"onUpdate:value":a[5]||(a[5]=o=>s.limbo_message=o),placeholder:e(l)("backend.limboMessagePlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.limboLanguage")},{feedback:r(()=>[f(d(e(l)("backend.limboLanguageHint")),1)]),default:r(()=>[i(e(de),{value:s.language,"onUpdate:value":a[6]||(a[6]=o=>s.language=o),options:oe,style:{width:"100%"}},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["tab"]),i(e(ce),{name:"motd",tab:e(l)("backend.motdEditor")},{default:r(()=>[t("div",Ro,[t("div",Bo,[t("div",Ho,d(e(l)("backend.motdPreview")),1),t("div",Mo,[t("div",No,[t("div",Eo,[c.favicon?(p(),h("img",{key:0,src:c.favicon,class:"favicon-preview"},null,8,Do)):(p(),h("div",Uo,"?"))]),t("div",jo,[t("div",Wo,[t("span",Oo,d(s.name||"Server"),1),a[32]||(a[32]=t("span",{class:"mc-server-version"},"Auto",-1))]),t("div",Vo,[t("div",{innerHTML:Z(c.line1),class:"motd-line"},null,8,qo),c.line2?(p(),h("div",{key:0,innerHTML:Z(c.line2),class:"motd-line"},null,8,Go)):z("",!0)]),t("div",Jo,[t("span",Ko,d(s.max_player<0?"∞":s.max_player)+" max",1),c.sampleText?(p(),h("span",{key:0,class:"players-hover",title:c.sampleText},"▲ hover",8,Yo)):z("",!0)])])])])]),t("div",Qo,[t("div",Xo,d(e(l)("backend.favicon")),1),t("div",Zo,[c.favicon?(p(),h("img",{key:0,src:c.favicon,class:"favicon-thumb"},null,8,el)):z("",!0),i(e(_),{size:"small",onClick:$},{default:r(()=>[f(d(e(l)("backend.uploadFavicon")),1)]),_:1}),c.favicon?(p(),K(e(_),{key:1,size:"small",type:"error",onClick:a[7]||(a[7]=o=>c.favicon="")},{default:r(()=>[f(d(e(l)("common.delete")),1)]),_:1})):z("",!0),t("span",ol,d(e(l)("backend.faviconHint")),1),t("input",{ref_key:"faviconInput",ref:D,type:"file",accept:"image/png,image/gif",style:{display:"none"},onChange:ae},null,544)])]),t("div",ll,[t("div",al,d(e(l)("backend.motdLine1")),1),t("div",nl,[i(e(O),{value:c.line1,"onUpdate:value":a[8]||(a[8]=o=>c.line1=o),placeholder:e(l)("backend.motdLine1Placeholder")},null,8,["value","placeholder"]),t("div",tl,[(p(),h(se,null,ie(Q,o=>t("span",{key:o.code,class:"color-btn",style:fe({background:o.hex==="#000000"?"#333":o.hex}),title:`§${o.code} ${o.name}`,onClick:m=>H("line1",o.code)},"§",12,sl)),64)),t("span",{class:"color-btn fmt-btn",title:"§l Bold",onClick:a[9]||(a[9]=o=>H("line1","l"))},"B"),t("span",{class:"color-btn fmt-btn",title:"§o Italic",onClick:a[10]||(a[10]=o=>H("line1","o")),style:{"font-style":"italic"}},"I"),t("span",{class:"color-btn fmt-btn",title:"§r Reset",onClick:a[11]||(a[11]=o=>H("line1","r"))},"R")])])]),t("div",il,[t("div",rl,d(e(l)("backend.motdLine2")),1),t("div",dl,[i(e(O),{value:c.line2,"onUpdate:value":a[12]||(a[12]=o=>c.line2=o),placeholder:e(l)("backend.motdLine2Placeholder")},null,8,["value","placeholder"]),t("div",cl,[(p(),h(se,null,ie(Q,o=>t("span",{key:o.code,class:"color-btn",style:fe({background:o.hex==="#000000"?"#333":o.hex}),title:`§${o.code} ${o.name}`,onClick:m=>H("line2",o.code)},"§",12,ul)),64)),t("span",{class:"color-btn fmt-btn",title:"§l Bold",onClick:a[13]||(a[13]=o=>H("line2","l"))},"B"),t("span",{class:"color-btn fmt-btn",title:"§o Italic",onClick:a[14]||(a[14]=o=>H("line2","o")),style:{"font-style":"italic"}},"I"),t("span",{class:"color-btn fmt-btn",title:"§r Reset",onClick:a[15]||(a[15]=o=>H("line2","r"))},"R")])])]),t("div",ml,[t("div",vl,d(e(l)("backend.hoverTooltip")),1),t("div",pl,[i(e(O),{value:c.sampleText,"onUpdate:value":a[16]||(a[16]=o=>c.sampleText=o),type:"textarea",rows:3,placeholder:e(l)("backend.hoverTooltipPlaceholder")},null,8,["value","placeholder"]),t("div",fl,d(e(l)("backend.hoverTooltipHint")),1)])])])]),_:1},8,["tab"]),i(e(ce),{name:"advanced",tab:e(l)("backend.advancedSettings")},{default:r(()=>[i(e(he),{model:s,"label-placement":"left","label-width":140},{default:r(()=>[i(e(P),{label:e(l)("backend.logDir")},{default:r(()=>[i(e(O),{value:s.log_dir,"onUpdate:value":a[17]||(a[17]=o=>s.log_dir=o),placeholder:e(l)("backend.logDirPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.showLogLevel")},{default:r(()=>[i(e(de),{value:s.show_log_level,"onUpdate:value":a[18]||(a[18]=o=>s.show_log_level=o),options:Y.value,style:{width:"100%"}},null,8,["value","options"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.saveLogLevel")},{default:r(()=>[i(e(de),{value:s.save_log_level,"onUpdate:value":a[19]||(a[19]=o=>s.save_log_level=o),options:Y.value,style:{width:"100%"}},null,8,["value","options"])]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.pingPassthrough")},{default:r(()=>[i(e(be),{value:s.ping_passthrough,"onUpdate:value":a[20]||(a[20]=o=>s.ping_passthrough=o)},null,8,["value"]),t("span",gl,d(e(l)("backend.pingPassthroughHint")),1)]),_:1},8,["label"]),i(e(P),{label:e(l)("backend.motdPassthrough")},{default:r(()=>[i(e(be),{value:s.motd_passthrough,"onUpdate:value":a[21]||(a[21]=o=>s.motd_passthrough=o)},null,8,["value"]),t("span",bl,d(e(l)("backend.motdPassthroughHint")),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["tab"])]),_:1})]),_:1},8,["show","title"]),i(e(re),{show:w.value,"onUpdate:show":a[26]||(a[26]=o=>w.value=o),preset:"card",title:e(l)("backend.maintenance"),style:{width:"440px"}},{footer:r(()=>{var o;return[t("div",yl,[i(e(_),{onClick:a[25]||(a[25]=m=>w.value=!1)},{default:r(()=>[f(d(e(l)("common.cancel")),1)]),_:1}),i(e(_),{type:(o=A.value)!=null&&o.maintenance?"success":"error",onClick:Te,loading:v.value},{default:r(()=>{var m;return[f(d((m=A.value)!=null&&m.maintenance?e(l)("backend.maintenanceOff"):e(l)("backend.maintenanceOn")),1)]}),_:1},8,["type","loading"])])]}),default:r(()=>[A.value?(p(),h("div",_l,[A.value.maintenance?z("",!0):(p(),K(e(co),{key:0,type:"warning",style:{"margin-bottom":"16px"}},{default:r(()=>[f(d(e(l)("backend.maintenanceWarning")),1)]),_:1})),i(e(P),{label:e(l)("backend.maintenanceMsg")},{default:r(()=>[i(e(O),{value:b.value,"onUpdate:value":a[24]||(a[24]=o=>b.value=o),placeholder:e(l)("backend.maintenanceMsgPlaceholder"),type:"textarea",rows:3},null,8,["value","placeholder"])]),_:1},8,["label"]),t("div",kl,d(e(l)("backend.motdColorCodeHint")),1)])):z("",!0)]),_:1},8,["show","title"]),i(e(re),{show:g.value,"onUpdate:show":a[28]||(a[28]=o=>g.value=o),preset:"dialog",title:e(l)("common.confirmDelete")},{action:r(()=>[i(e(_),{onClick:a[27]||(a[27]=o=>g.value=!1)},{default:r(()=>[f(d(e(l)("common.cancel")),1)]),_:1}),i(e(_),{type:"error",onClick:ze,loading:L.value},{default:r(()=>[f(d(e(l)("common.delete")),1)]),_:1},8,["loading"])]),default:r(()=>{var o;return[t("p",null,d(e(l)("backend.deleteConfirm",{name:(o=R.value)==null?void 0:o.name})),1)]}),_:1},8,["show","title"])]))}}),Hl=no(Cl,[["__scopeId","data-v-477c1490"]]);export{Hl as default};
